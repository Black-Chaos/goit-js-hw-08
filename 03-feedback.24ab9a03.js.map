{"mappings":"AAEA,MAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,wBAE9CJ,IACFH,EAAKQ,MAAMC,MAAQN,EAAUK,MAC7BR,EAAKU,QAAQD,MAAQN,EAAUO,SAGjCV,EAAKW,iBAAiB,QCVf,SAAoBC,EAAIC,GAC7B,IAAIC,EAAK,EACT,OAAOC,IACDD,IACFA,EAAK,EACLF,EAAGG,GACHC,YAAW,IAAOF,EAAK,GAAID,G,EDIF,EAG/B,WACE,MAAMI,EAAO,CACXT,MAAOR,EAAKQ,MAAMC,MAClBC,QAASV,EAAKU,QAAQD,OAExBH,aAAaY,QAAQ,sBAAuBd,KAAKe,UAAUF,G,GARV,MACnDjB,EAAKW,iBAAiB,UAUtB,SAAkBS,GAChBA,EAAEC,iBACF,MAAMC,EAAYlB,KAAKC,MAAMC,aAAaC,QAAQ,wBAClD,IAAKe,EAAW,OAChBC,QAAQC,IAAIF,GACZhB,aAAamB,WAAW,uBACxBzB,EAAK0B,O","sources":["src/js/03-feedback.js","src/js/fn.js"],"sourcesContent":["import { onThrottle } from './fn';\n\nconst form = document.querySelector('.feedback-form');\nconst localData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\nif (localData) {\n  form.email.value = localData.email;\n  form.message.value = localData.message;\n}\n\nform.addEventListener('input', onThrottle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onInput() {\n  const data = {\n    email: form.email.value,\n    message: form.message.value,\n  };\n  localStorage.setItem('feedback-form-state', JSON.stringify(data));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const checkData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (!checkData) return;\n  console.log(checkData);\n  localStorage.removeItem('feedback-form-state');\n  form.reset();\n}\n","export function onThrottle(cb, t) {\n  let on = 1;\n  return obj => {\n    if (on) {\n      on = 0;\n      cb(obj);\n      setTimeout(() => (on = 1), t);\n    }\n  };\n}"],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$localData","JSON","parse","localStorage","getItem","email","value","message","addEventListener","cb","t","on","obj","setTimeout","data","setItem","stringify","e","preventDefault","checkData","console","log","removeItem","reset"],"version":3,"file":"03-feedback.24ab9a03.js.map"}